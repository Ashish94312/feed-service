

### Steps to Set Up
1. **Clone the Repository**  
   ```bash
   git clone feed-service
   cd feed-service
   ```

2. **Docker Compose Setup**
   ```bash
   docker-compose build
   ```

---

## ğŸƒâ€â™‚ï¸ How to Run the Service

Run the entire service stack using Docker Compose:
```bash
docker-compose up
```

This will start two servers:
- **GraphQL Server** on `http://localhost:8080`
- **gRPC Server** on port `:50051` internally (used by GraphQL resolver).

---

## ğŸ“¡ Sample GraphQL Query

Here's a simple GraphQL query to fetch a user's timeline:

```graphql
query GetUserTimeline {
  getTimeline(userID: "u1") {
    id
    authorID
    content
    timestamp
  }
}
```

---

## ğŸ“š Description of Approach

### Architecture Overview
This service uses a **GraphQL** API to provide a structured feed, fetching posts from followed users through a simulated **gRPC** backend.

### Key Components:
- **GraphQL API**: Defined using `gqlgen`, providing a query `getTimeline`.
- **gRPC Server**: Serves mock post data (for simplicity), simulating an external posts service.
- **Concurrency**: Posts are fetched concurrently from each followed user, improving response times.

### Data Model:
- Users, followers, and posts are mocked within an in-memory dataset (`data.go`) for demonstration.
- Posts contain an ID, author ID, content, and a timestamp.

### Resolver Logic:
- The resolver (`GetTimeline`) concurrently retrieves posts from all users followed by the requested user.
- Posts from different users are aggregated and sorted by timestamp in descending order.
- The response is limited to the latest 20 posts.

---

## ğŸ—ƒï¸ Project Structure

```
â”œâ”€â”€ docker-compose.yml        # Docker Compose file to run the service
â”œâ”€â”€ Dockerfile                # Dockerfile to build Go service image
â”œâ”€â”€ gqlgen.yml                # gqlgen configuration
â”œâ”€â”€ main.go                   # Entry point, starts GraphQL & gRPC servers
â”œâ”€â”€ graph
â”‚   â”œâ”€â”€ schema.graphqls       # GraphQL schema definition
â”‚   â”œâ”€â”€ resolver.go           # Resolver dependencies injection
â”‚   â””â”€â”€ schema.resolvers.go   # Resolver implementations
â”œâ”€â”€ data.go                   # Mock data for users, followers, and posts
â”œâ”€â”€ go.mod & go.sum           # Go modules and dependencies
â””â”€â”€ proto                     # gRPC definitions
```

--